<!DOCTYPE html>
<html>
<head>
  <title>History</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<h2 id="date"></h2>
<div id="content"></div>
<textarea id="notes" placeholder="Notes..."></textarea>

<script>
const d=new URLSearchParams(location.search).get('date');
date.innerText=d;
const db=JSON.parse(localStorage.getItem('lifeCalendar'))||{};
if(db[d]){
  Object.keys(db[d].sections).forEach(s=>{
    const div=document.createElement('div');
    div.innerHTML=`<h3>${s}</h3>`;
    db[d].sections[s].forEach(t=>{
      div.innerHTML+=`${t.done?'✔️':'❌'} ${t.title}<br>`;
    });
    content.appendChild(div);
  });
  notes.value=db[d].notes||'';
  notes.oninput=()=>{db[d].notes=notes.value;localStorage.setItem('lifeCalendar',JSON.stringify(db));}
}
</script>
</body>
</html>
